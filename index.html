<!Doctype html>
<html>
    <head>
        <title>
            WGear Test
        </title>        
    </head>
    <body>
        <script src="https://127.0.0.1:20171/js/wgear.js" type="text/javascript"></script>
        <script type="text/javascript">
            var myWindow2;
            var wgear = new WGear(function(r) {
            });
            
            function Execute() {
                wgear.callback.setEventListener(success, fail, 'Win32Util', 'ProcessExited', onProcessExited);
                wgear.callback.exec(success, fail, 'Win32Util', 'Execute', ['notepad']);
            };

            function GetIP() {
                wgear.callback.exec(success, fail, 'Win32Util', 'GetScreenInfo', []);
                
                wgear.promise.exec('Win32Util','GetIPAddress', [])
                .then(function(r) {
                    console.log("result : ", r);
                },function(e){
                    console.log("error : ", e);
                });
            };

            window.onload = function() {
                myWindow2 = window.open("https://9967han.github.io/windowOpenTest/first.html", "_blank", "width= " + 100 + ", height=" + 100);
                if (myWindow2.document.readyState == "complete") {
                    var direction = "left";
                    wgear.callback.exec(success, fail, 'Win32Util', 'MoveForegroundWindowToAnotherScreenByKey', [direction, true]);
                    document.getElementById("spanTag").innerHTML = "\n" + myWindow2.screen.width + " " + myWindow2.screen.height;
                }
            };

            var success = function() {
                console.log('r : ', arguments);
            };
            
            var fail = function () {
                console.log('e : ', arguments);
            };
            
            var onProcessExited = function() {
                console.log(arguments);
            }
        </script>
        <a href="WGear.Inswave.Dev://">WGear 실행하기</a>
        <br/>
        <input type="button" NAME = "MoveWindow" value="MoveWindow" onclick="MoveWindow()"><br/>
        <input type="button" NAME = "Execute" value="Execute" onclick="Execute()"><br/>
        <input type="button" NAME = "GetIP" value="GetIP" onclick="GetIP()"><br/>
        <span id="spanTag"></span>
    </body>
</html>
